{% extends "school/base.html" %}
{% load static %}

{% block title %}Список учеников{% endblock %}
{% block content %}
<div class="row">
  <p>Сортировать по:
    <a href="?ordering=name">Имя</a> |
    <a href="?ordering=group">Группа</a> |
  </p>
  <ul>
    {% for student in object_list %}
      <li>
        {{ student.name }} {{ student.group }} <br>
        Преподаватель: {{ student.teacher.name }} {{ student.teacher.subject }} <br>
        Все учителя ученика:
        <ul>
          {% for teacher in student.teachers.all %}
            <li>{{ teacher.name }}: {{ teacher.subject }}</li>
          {% endfor %}
        </ul>
      </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}